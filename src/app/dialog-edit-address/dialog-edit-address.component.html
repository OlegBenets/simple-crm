<div class="dialog-container">
    @if(loading) {
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    }
  
  <h2 mat-dialog-title>Edit Address</h2>
  <mat-dialog-content class="pt-20">
    <form #userForm="ngForm" (ngSubmit)="saveUser(userForm)">
      <div>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Street + House No.</mat-label>
          <input
            [disabled]="loading"
            pattern="^[a-zA-Z0-9\s\-\.]+ \d{1,3}$"
            #street="ngModel"
            name="street"
            [(ngModel)]="user.street"
            matInput
            placeholder="Placeholder"
            required/>

            @if(street.invalid && street.touched) {
              <mat-error>Street is required</mat-error>
              }
        </mat-form-field>
      </div>
      <div>
          <mat-form-field class="mr-16" appearance="outline">
            <mat-label>Zip code</mat-label>
            <input
            [disabled]="loading"
            minlength="5"
            maxlength="9"
            #zipCode="ngModel"
            name="zipCode"
            [(ngModel)]="user.zipCode"
            matInput
            placeholder="Placeholder"
            required/>

            @if(zipCode.invalid && zipCode.touched) {
              <mat-error>Zip Code is required</mat-error>
              }
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>City</mat-label>
            <input
            [disabled]="loading"
            minlength="3"
            maxlength="32"
            #city="ngModel"
            name="city"
            [(ngModel)]="user.city"
            matInput
            placeholder="Placeholder"
            required/>

            @if(city.invalid && city.touched) {
              <mat-error>City is required</mat-error>
              }
          </mat-form-field>
        </div>

  <mat-dialog-actions>
    <button [disabled]="loading" mat-button (click)="dialogRef.close();">Cancel</button>
    <button 
    [disabled]="loading || !userForm.form.valid"
    mat-button
    type="submit">Save</button>
  </mat-dialog-actions>
  </form>
</mat-dialog-content>
  </div>
